# Sql server скрипты для аудита

## О скриптах

Скрипты для создания дополнительного аудита для mssql server

**SqlServerSimpleLoginAudit** - относительно простой аудит данных 
включающий группы

    AUDIT_CHANGE_GROUP
    BACKUP_RESTORE_GROUP
    DATABASE_CHANGE_GROUP
    DATABASE_OWNERSHIP_CHANGE_GROUP
    BROKER_LOGIN_GROUP
    DBCC_GROUP    
    LOGIN_CHANGE_PASSWORD_GROUP
    APPLICATION_ROLE_CHANGE_PASSWORD_GROUP
    SERVER_PRINCIPAL_CHANGE_GROUP
    DATABASE_PRINCIPAL_CHANGE_GROUP
    DATABASE_PRINCIPAL_IMPERSONATION_GROUP
    DATABASE_PERMISSION_CHANGE_GROUP
    DATABASE_ROLE_MEMBER_CHANGE_GROUP
    FAILED_LOGIN_GROUP
    SUCCESSFUL_LOGIN_GROUP

Результат

![result](/img/SqlServerSimpleLoginAudit_1.png "Результат в окне просмотра в SSMS")

---

**SqlServerComplexAudit** - достаточно продвинутый аудит 
включающий группы

    DATABASE_OBJECT_ACCESS_GROUP
    DATABASE_ROLE_MEMBER_CHANGE_GROUP
    SERVER_ROLE_MEMBER_CHANGE_GROUP
    BACKUP_RESTORE_GROUP
    AUDIT_CHANGE_GROUP
    DBCC_GROUP
    DATABASE_PERMISSION_CHANGE_GROUP
    DATABASE_OBJECT_PERMISSION_CHANGE_GROUP
    SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP
    SERVER_OBJECT_PERMISSION_CHANGE_GROUP
    SERVER_PERMISSION_CHANGE_GROUP
    DATABASE_PRINCIPAL_IMPERSONATION_GROUP
    SERVER_PRINCIPAL_IMPERSONATION_GROUP
    DATABASE_CHANGE_GROUP
    DATABASE_OBJECT_CHANGE_GROUP
    DATABASE_PRINCIPAL_CHANGE_GROUP
    SCHEMA_OBJECT_CHANGE_GROUP
    SERVER_OBJECT_CHANGE_GROUP
    DATABASE_OPERATION_GROUP
    SERVER_OPERATION_GROUP
    APPLICATION_ROLE_CHANGE_PASSWORD_GROUP
    LOGIN_CHANGE_PASSWORD_GROUP
    SERVER_STATE_CHANGE_GROUP
    DATABASE_OWNERSHIP_CHANGE_GROUP
    DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP
    SCHEMA_OBJECT_OWNERSHIP_CHANGE_GROUP
    SERVER_OBJECT_OWNERSHIP_CHANGE_GROUP
    TRACE_CHANGE_GROUP

---    